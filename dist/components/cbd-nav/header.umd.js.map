{"version":3,"file":"header.umd.js","sources":["../../../src/components/cbd-nav/header.vue"],"sourcesContent":["<template>\r\n    <div>\r\n\r\n        <header id=\"header\" class=\"header\" role=\"banner\" aria-label=\"Site header\">\r\n            <svg  aria-hidden=\"true\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n                xmlns:xlink=\"http://www.w3.org/1999/xlink\"\r\n                style=\"position: absolute; width: 0px; height: 0px; overflow: hidden;\">\r\n                <defs >\r\n                    <symbol  id=\"icon-sign-out\" viewBox=\"0 0 25 28\">\r\n                        <title >Sign Out</title>\r\n                        <path \r\n                            d=\"M10 22.5c0 0.438 0.203 1.5-0.5 1.5h-5c-2.484 0-4.5-2.016-4.5-4.5v-11c0-2.484 2.016-4.5 4.5-4.5h5c0.266 0 0.5 0.234 0.5 0.5 0 0.438 0.203 1.5-0.5 1.5h-5c-1.375 0-2.5 1.125-2.5 2.5v11c0 1.375 1.125 2.5 2.5 2.5h4.5c0.391 0 1-0.078 1 0.5zM24.5 14c0 0.266-0.109 0.516-0.297 0.703l-8.5 8.5c-0.187 0.187-0.438 0.297-0.703 0.297-0.547 0-1-0.453-1-1v-4.5h-7c-0.547 0-1-0.453-1-1v-6c0-0.547 0.453-1 1-1h7v-4.5c0-0.547 0.453-1 1-1 0.266 0 0.516 0.109 0.703 0.297l8.5 8.5c0.187 0.187 0.297 0.438 0.297 0.703z\">\r\n                        </path>\r\n                    </symbol>\r\n                    <symbol  id=\"icon-profile\" viewBox=\"0 0 20 28\">\r\n                        <title >Profile</title>\r\n                        <path \r\n                            d=\"M20 21.859c0 2.281-1.5 4.141-3.328 4.141h-13.344c-1.828 0-3.328-1.859-3.328-4.141 0-4.109 1.016-8.859 5.109-8.859 1.266 1.234 2.984 2 4.891 2s3.625-0.766 4.891-2c4.094 0 5.109 4.75 5.109 8.859zM16 8c0 3.313-2.688 6-6 6s-6-2.688-6-6 2.688-6 6-6 6 2.688 6 6z\">\r\n                        </path>\r\n                    </symbol>\r\n                    <symbol  id=\"icon-password\" viewBox=\"0 0 18 28\">\r\n                        <title >Password</title>\r\n                        <path \r\n                            d=\"M5 12h8v-3c0-2.203-1.797-4-4-4s-4 1.797-4 4v3zM18 13.5v9c0 0.828-0.672 1.5-1.5 1.5h-15c-0.828 0-1.5-0.672-1.5-1.5v-9c0-0.828 0.672-1.5 1.5-1.5h0.5v-3c0-3.844 3.156-7 7-7s7 3.156 7 7v3h0.5c0.828 0 1.5 0.672 1.5 1.5z\">\r\n                        </path>\r\n                    </symbol>\r\n                    <symbol  id=\"icon-lock\" viewBox=\"0 0 32 32\">\r\n                        <title >Lock</title>\r\n                        <path \r\n                            d=\"M15 21.915v0c-0.583-0.206-1-0.762-1-1.415 0-0.828 0.672-1.5 1.5-1.5s1.5 0.672 1.5 1.5c0 0.653-0.417 1.209-1 1.415v2.594c0 0.263-0.224 0.491-0.5 0.491-0.268 0-0.5-0.22-0.5-0.491v-2.594zM8 14v0 0c-1.658 0.005-3 1.34-3 3.009v9.981c0 1.662 1.346 3.009 3.009 3.009h14.982c1.662 0 3.009-1.337 3.009-3.009v-9.981c0-1.659-1.341-3.005-3-3.009v-3.501c0-4.142-3.366-7.499-7.5-7.499-4.142 0-7.5 3.357-7.5 7.499v3.501zM11 14v-3.499c0-2.492 2.015-4.501 4.5-4.501 2.48 0 4.5 2.015 4.5 4.501v3.499h-9z\">\r\n                        </path>\r\n                    </symbol>\r\n                    <symbol  id=\"icon-search\" viewBox=\"0 0 250 270\"\r\n                        preserveAspectRatio=\"xMidYMid meet\">\r\n                        <title >Search</title>\r\n                        <path \r\n                            d=\"M16 254 c-20 -20 -20 -22 5 -63 14 -24 19 -44 15 -63 -7 -37 15 -90 45 -112 13 -9 43 -16 67 -16 62 0 102 40 102 104 0 64 -40 109 -100 112 -31 1 -49 9 -67 28 -27 30 -45 33 -67 10z m164 -104 c36 -36 14 -100 -34 -100 -60 1 -81 79 -29 109 26 15 41 13 63 -9z\">\r\n                        </path>\r\n                    </symbol>\r\n                    <symbol  id=\"icon-menu\" viewBox=\"0 0 24 24\">\r\n                        <title >Menu</title>\r\n                        <path \r\n                            d=\"M-1.77635684e-15,-8.8817842e-16 L29.461538,-8.8817842e-16 L29.461538,2 L-1.77635684e-15,2 L-1.77635684e-15,-8.8817842e-16 Z M4.91025633,10.6407675 L4.91025633,9.64076753 L29.461538,9.64076753 L29.461538,10.6407675 L4.91025633,10.6407675 Z M-1.77635684e-15,20.2777774 L-1.77635684e-15,18.2777774 L29.461538,18.2777774 L29.461538,20.2777774 L-1.77635684e-15,20.2777774 Z\">\r\n                        </path>\r\n                    </symbol>\r\n                    <symbol  id=\"icon-close\" viewBox=\"0 0 30 30\">\r\n                        <title >Close</title>\r\n                        <path \r\n                            d=\"M18.984 6.422l-5.578 5.578 5.578 5.578-1.406 1.406-5.578-5.578-5.578 5.578-1.406-1.406 5.578-5.578-5.578-5.578 1.406-1.406 5.578 5.578 5.578-5.578z\">\r\n                        </path>\r\n                    </symbol>\r\n                    <filter  id=\"blur\" x=\"0\" y=\"0\">\r\n                        <feGaussianBlur  in=\"SourceGraphic\" stdDeviation=\".5\"></feGaussianBlur>\r\n                    </filter>\r\n                </defs>\r\n            </svg>\r\n            <nav class=\"navbar navbar-expand-lg navbar-light bg-white\">\r\n                <a class=\"navbar-brand\" href=\"https://www.cbd.int/\" title=\"Convention on Biological Diversity\">\r\n                    <img src=\"https://www.cbd.int/themes/custom/bootstrap_sass/images/CBD_logo_green.png\"\r\n                        alt=\"Convention on Biological Diversity\">\r\n                </a>\r\n                <button class=\"navbar-toggler hamburger-icon collapsed\" type=\"button\" data-toggle=\"collapse\"\r\n                    data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\"\r\n                    aria-label=\"Toggle navigation\">\r\n                    <span class=\"line line-1\"></span>\r\n                    <span class=\"line line-2\"></span>\r\n                    <span class=\"line line-3\"></span>\r\n                </button>\r\n                <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n                    <div class=\"navbar-wrapper\">\r\n                        <div class=\"nav-top\">\r\n\r\n                            <ul class=\"navbar-nav mr-auto\">\r\n\r\n\r\n                                <li class=\"topmenu nav-item dropdown\">\r\n                                    <a class=\"nav-link dropdown-toggle\" href=\"\" role=\"button\" data-toggle=\"dropdown\"\r\n                                        aria-haspopup=\"true\" aria-expanded=\"false\" title=\"Information\">\r\n\r\n                                        Information\r\n\r\n                                    </a>\r\n                                    <div class=\"Information dropdown-menu\">\r\n                                        <div class=\"dropdown-item-container\">\r\n\r\n                                            <a href=\"https://www.cbd.int/contact\" title=\"Contact us\" class=\"dropdown-item\">\r\n                                                <span class=\"dropdown-item-label\">Contact us</span>\r\n                                            </a>\r\n\r\n\r\n                                            <a href=\"https://www.cbd.int/terms\" title=\"Terms of Use\" class=\"dropdown-item\">\r\n                                                <span class=\"dropdown-item-label\">Terms of Use</span>\r\n                                            </a>\r\n\r\n\r\n                                            <a href=\"https://www.cbd.int/privacy\" title=\"Privacy Policy\"\r\n                                                class=\"dropdown-item\"> <span class=\"dropdown-item-label\">Privacy\r\n                                                    Policy</span>\r\n                                            </a>\r\n\r\n\r\n                                            <a href=\"https://www.cbd.int/credits\" title=\"Credits\" class=\"dropdown-item\">\r\n                                                <span class=\"dropdown-item-label\">Credits</span>\r\n                                            </a>\r\n\r\n\r\n                                            <a href=\"https://www.cbd.int/copyright\" title=\"© CBD Secretariat\"\r\n                                                class=\"dropdown-item\"> <span class=\"dropdown-item-label\">© CBD\r\n                                                    Secretariat</span>\r\n                                            </a>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                                <li class=\"topmenu nav-item dropdown\">\r\n                                    <a class=\"nav-link dropdown-toggle\" href=\"\" role=\"button\" data-toggle=\"dropdown\"\r\n                                        aria-haspopup=\"true\" aria-expanded=\"false\" title=\"About the Secretariat\">\r\n\r\n                                        About the Secretariat\r\n\r\n                                    </a>\r\n\r\n                                    <div class=\"About the Secretariat dropdown-menu\">\r\n                                        <div class=\"dropdown-item-container\">\r\n\r\n                                            <a href=\"https://www.cbd.int/staff\" title=\"Staff\" class=\"dropdown-item\"> <span\r\n                                                    class=\"dropdown-item-label\">Staff</span>\r\n                                            </a>\r\n\r\n\r\n                                            <a href=\"https://www.cbd.int/secretariat/executive-secretary/\"\r\n                                                title=\"Executive Secretary\" class=\"dropdown-item\"> <span\r\n                                                    class=\"dropdown-item-label\">Executive\r\n                                                    Secretary</span>\r\n                                            </a>\r\n\r\n\r\n                                            <a href=\"https://www.cbd.int/museum\" title=\"Museum of Nature and Culture\"\r\n                                                class=\"dropdown-item\">\r\n                                                <span class=\"dropdown-item-label\">Museum of Nature and Culture</span>\r\n                                            </a>\r\n\r\n\r\n                                            <a href=\"https://www.cbd.int/secretariat/initiatives.shtml\" title=\"Initiatives\"\r\n                                                class=\"dropdown-item\"> <span\r\n                                                    class=\"dropdown-item-label\">Initiatives</span>\r\n                                            </a>\r\n\r\n\r\n                                            <a href=\"https://www.cbd.int/secretariat/documents.shtml\"\r\n                                                title=\"Secretariat Documents\" class=\"dropdown-item\"> <span\r\n                                                    class=\"dropdown-item-label\">Secretariat\r\n                                                    Documents</span>\r\n                                            </a>\r\n\r\n\r\n                                            <a href=\"https://www.cbd.int/employment\" title=\"Employment Opportunities\"\r\n                                                class=\"dropdown-item\">\r\n                                                <span class=\"dropdown-item-label\">Employment Opportunities</span>\r\n                                            </a>\r\n\r\n\r\n                                            <a href=\"https://www.cbd.int/secretariat/business\"\r\n                                                title=\"Doing Business with the CBD\" class=\"dropdown-item\"> <span\r\n                                                    class=\"dropdown-item-label\">Doing Business\r\n                                                    with\r\n                                                    the CBD</span>\r\n                                            </a>\r\n\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </li>\r\n\r\n\r\n                            </ul>\r\n                            <ul class=\"navbar-nav\">\r\n                                <li class=\"nav-item\" v-if=\"!isAuthenticated\">\r\n                                    <a id=\"accountsLink-SNE\"\r\n                                        v-bind:href=\"$accountsBaseUrl+'/signin?returnUrl='+returnUrl\"\r\n                                        class=\"nav-link login di\"> \r\n                                        <span>Login </span>\r\n                                        <span v-if=\"isAuthenticated\">\r\n                                            Welcome {{user.name}}\r\n                                        </span>\r\n                                        <svg class=\"icon icon-lock\">\r\n                                            <use xlink:href=\"#icon-lock\"></use>\r\n                                        </svg>\r\n                                    </a>                                \r\n                                </li>\r\n                                <li class=\"topmenu nav-item dropdown\" v-if=\"isAuthenticated\">                                      \r\n                                    <a class=\"nav-link dropdown-toggle\" href=\"\" role=\"button\" data-toggle=\"dropdown\"\r\n                                        aria-haspopup=\"true\" aria-expanded=\"false\" title=\"User\" > \r\n                                        Welcome {{user.name}}\r\n                                        <svg class=\"icon icon-lock\">\r\n                                            <use xlink:href=\"#icon-lock\"></use>\r\n                                        </svg>\r\n                                    </a>     \r\n                                    <div class=\"user-profile dropdown-menu\">\r\n                                        <div class=\"dropdown-item-container\">\r\n                                            <a v-bind:href=\"$accountsBaseUrl+'/profile'\" title=\"Profile\" class=\"dropdown-item\"> <span\r\n                                                    class=\"dropdown-item-label\">Profile</span></a>\r\n                                            <a v-bind:href=\"$accountsBaseUrl+'/password'\" title=\"Password\" class=\"dropdown-item\"> <span\r\n                                                    class=\"dropdown-item-label\">Password</span></a>\r\n                                            <a href=\"\" v-on:click=\"logout()\" title=\"Sign Out\" class=\"dropdown-item\"> <span\r\n                                                    class=\"dropdown-item-label\">Sign out</span></a>\r\n                                        </div>\r\n                                    </div>  \r\n                                </li>\r\n                            </ul>\r\n                            <ul class=\"navbar-nav\">\r\n                                <li class=\"topmenu nav-item dropdown\">\r\n                                    <a class=\"nav-link dropdown-toggle\" href=\"\" role=\"button\" data-toggle=\"dropdown\"\r\n                                        aria-haspopup=\"true\" aria-expanded=\"false\" title=\"Language\">\r\n                                        {{languages[$locale||'en']}} <span class=\"flag-icon\"></span>\r\n                                    </a>\r\n\r\n                                    <div class=\"Languages dropdown-menu\">\r\n                                        <div class=\"dropdown-item-container\">\r\n                                            <a v-for=\"(lang, key) in languages\" v-bind:href=\"'language-switch/'+key+'?returnUrl='+returnUrl\" \r\n                                                v-bind:title=\"lang\" class=\"dropdown-item\"> <span\r\n                                                    class=\"dropdown-item-label\">{{lang}}</span></a>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>\r\n                            </ul>\r\n                            <div id=\"block-topsearchblock\"\r\n                                class=\"settings-tray-editable block block-cbd-utility block-top-search-block\"\r\n                                data-drupal-settingstray=\"editable\">\r\n\r\n                                <form class=\"views-exposed-form\" data-drupal-selector=\"views-exposed-form-search-search\"\r\n                                    action=\"https://www.cbd.int/search\" method=\"get\" id=\"views-exposed-form-search-search\"\r\n                                    accept-charset=\"UTF-8\">\r\n                                    <div class=\"form-row\">\r\n                                        <div data-drupal-selector=\"edit-actions\" class=\"form-actions\"\r\n                                            id=\"edit-actions--2\">\r\n                                            <input data-drupal-selector=\"edit-submit-search\" type=\"submit\"\r\n                                                id=\"edit-submit-search\" value=\"Submit\"\r\n                                                class=\"button js-form-submit form-submit btn btn-primary form-control\">\r\n                                        </div>\r\n\r\n                                        <fieldset\r\n                                            class=\"js-form-item js-form-type-textfield form-type-textfield js-form-item-query form-item-query form-group\">\r\n                                            <label for=\"edit-query\">Search</label>\r\n                                            <input data-drupal-selector=\"edit-query\" placeholder=\"Search\" type=\"text\"\r\n                                                id=\"edit-query\" name=\"query\" value=\"\" size=\"30\" maxlength=\"128\"\r\n                                                class=\"form-text form-control\">\r\n\r\n                                        </fieldset>\r\n\r\n                                    </div>\r\n\r\n                                </form>\r\n\r\n\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"nav-main\">\r\n\r\n                            <ul class=\"navbar-nav main-nav\">\r\n                                <li class=\"nav-item  main-menu-item\">\r\n                                    <a class=\"nav-link \" href=\"https://www.cbd.int/convention/\" role=\"button\"\r\n                                        title=\"Biodiversity Convention\">\r\n                                        BIODIVERSITY CONVENTION\r\n                                    </a>\r\n\r\n                                </li>\r\n                                <li class=\"nav-item  main-menu-item\">\r\n                                    <a class=\"nav-link \" href=\"http://bch.cbd.int/protocol\" role=\"button\"\r\n                                        title=\"Cartagena Protocol\">\r\n                                        CARTAGENA PROTOCOL\r\n                                    </a>\r\n\r\n                                </li>\r\n                                <li class=\"nav-item  main-menu-item\">\r\n                                    <a class=\"nav-link \" href=\"https://www.cbd.int/abs\" role=\"button\"\r\n                                        title=\"Nagoya Protocol\">\r\n                                        NAGOYA PROTOCOL\r\n                                    </a>\r\n\r\n                                </li>\r\n                                <li class=\"nav-item  main-menu-item\">\r\n                                    <a class=\"nav-link \" href=\"https://www.cbd.int/countries\" role=\"button\"\r\n                                        title=\"Countries\">\r\n                                        COUNTRIES\r\n                                    </a>\r\n\r\n                                </li>\r\n                                <li class=\"nav-item  main-menu-item\">\r\n                                    <a class=\"nav-link \" href=\"https://www.cbd.int/programmes/\" role=\"button\"\r\n                                        title=\"Programmes\">\r\n                                        PROGRAMMES\r\n                                    </a>\r\n\r\n                                </li>\r\n\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n        </header>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue';\r\nconst $accountsBaseUrl = ''; //ToDo assign the accountsBaseUrl\r\n\r\nconst isAuthenticated = ref(false);\r\nconst user = ref(undefined);\r\nconst returnUrl = ref(undefined);\r\nconst languages = {\r\n  ar: 'العربية',\r\n  es: 'Español',\r\n  en: 'English',\r\n  fr: 'Français',\r\n  ru: 'Русский',\r\n  zg: '中文'\r\n};\r\n\r\nconst userName = computed(() => {\r\n  if (user.value?.userID > 1) {\r\n    return user.value.userName;\r\n  }\r\n});\r\n\r\nconst logout = async () => {\r\n  await $auth.logout();\r\n  window.location.reload();\r\n};\r\n\r\nonMounted(async () => {\r\n  returnUrl.value = window.location.href;\r\n  setTimeout(async () => {\r\n    const fetchedUser = await $auth.fetchUser();\r\n    user.value = fetchedUser;\r\n    isAuthenticated.value = fetchedUser.isAuthenticated;\r\n  }, 1000);\r\n});\r\n</script>\r\n\r\n<style scoped src=\"../../assets/cbd.css\"></style>\r\n<style lang=\"scss\" scoped>\r\n.icon {\r\n    display: inline-block;\r\n    width: 1em;\r\n    height: 1em;\r\n    stroke-width: 0;\r\n    stroke: currentColor;\r\n    fill: currentColor\r\n}\r\n\r\n.icon-sign-out {\r\n    width: .875em\r\n}\r\n\r\n.icon-profile {\r\n    width: .7138671875em\r\n}\r\n\r\n.icon-lock {\r\n    width: .8em;\r\n    margin-bottom: .25em\r\n}\r\n\r\n.icon-search {\r\n    width: 1em;\r\n    fill: #fff\r\n}\r\n\r\n.icon-menu {\r\n    width: 1.6em;\r\n    fill: #fff\r\n}\r\n\r\n.icon-close {\r\n    font-size: 1.5em;\r\n    fill: #fff\r\n}\r\n\r\n.flag-icon {\r\n    background-image: url(https://cdn.cbd.int/@scbd/www-css@0.0.17/dist/images/icon_language_neg.png);\r\n    background-repeat: no-repeat;\r\n    height: 12px;\r\n    width: 12px;\r\n    display: inline-block;\r\n    background-size: 11px 12px;\r\n    margin-left: 4px\r\n}\r\n\r\n.navbar .nav-top .navbar-nav .nav-item .nav-link,\r\n.navbar .nav-top .navbar-nav .nav-item .dropdown-item{\r\n    font-size: 16px!important;\r\n}\r\n\r\n</style>\r\n"],"names":["$accountsBaseUrl","isAuthenticated","ref","user","undefined","returnUrl","languages","ar","es","en","fr","ru","zg","computed","_user$value","value","userID","userName","logout","$auth","window","location","reload","onMounted","href","setTimeout","fetchedUser","fetchUser"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAmTA,MAAMA,gBAAgB,GAAG,EAAE,CAAC,CAAA;;;;;MAE5B,MAAMC,eAAe,GAAGC,GAAAA,CAAAA,GAAG,CAAC,KAAK,CAAC;MAClC,MAAMC,IAAI,GAAGD,GAAAA,CAAAA,GAAG,CAACE,SAAS,CAAC;MAC3B,MAAMC,SAAS,GAAGH,GAAAA,CAAAA,GAAG,CAACE,SAAS,CAAC;MAChC,MAAME,SAAS,GAAG;QAChBC,EAAE,EAAE,SAAS;QACbC,EAAE,EAAE,SAAS;QACbC,EAAE,EAAE,SAAS;QACbC,EAAE,EAAE,UAAU;QACdC,EAAE,EAAE,SAAS;QACbC,EAAE,EAAE;MACN,CAAC;MAEgBC,GAAAA,CAAAA,QAAQ,CAAC,MAAM;QAAA,IAAAC,WAAA;QAC9B,IAAI,EAAAA,WAAA,GAAAX,IAAI,CAACY,KAAK,cAAAD,WAAA,uBAAVA,WAAA,CAAYE,MAAM,IAAG,CAAC,EAAE;UAC1B,OAAOb,IAAI,CAACY,KAAK,CAACE,QAAQ;QAC3B;MACH,CAAC,CAAE;MAEH,MAAMC,MAAM,GAAG,MAAAA,CAAA,KAAY;QACzB,MAAMC,KAAK,CAACD,MAAM,EAAE;QACpBE,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;MAC1B,CAAC;MAEDC,GAAAA,CAAAA,SAAS,CAAC,YAAY;QACpBlB,SAAS,CAACU,KAAK,GAAGK,MAAM,CAACC,QAAQ,CAACG,IAAI;QACtCC,UAAU,CAAC,YAAY;UACrB,MAAMC,WAAW,GAAG,MAAMP,KAAK,CAACQ,SAAS,EAAE;UAC3CxB,IAAI,CAACY,KAAK,GAAGW,WAAW;UACxBzB,eAAe,CAACc,KAAK,GAAGW,WAAW,CAACzB,eAAe;QACpD,CAAA,EAAE,IAAI,CAAC;MACV,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}