{"version":3,"file":"utils.cjs","sources":["../../../src/services/util/utils.js"],"sourcesContent":["export const useLogger = ()=>{\r\n    return {\r\n        error\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction error(appError, userMessage){\r\n\r\n    if(![404, 401, 403].includes(appError?.status)){\r\n\r\n        try{\r\n            console.error(appError);\r\n            \r\n            const { ACCOUNTS_HOST_URL, TAG, COMMIT } = useRuntimeConfig().public;\r\n            const realmConfStore  = useRealmConfStore();\r\n            const realmConf = realmConfStore.realmConf; \r\n            //TODO: send error to server\r\n            const errorLog = {\r\n                stack : JSON.stringify(appError, Object.getOwnPropertyNames(appError)), \r\n                message: JSON.stringify(userMessage || appError?.message || 'unknown'),\r\n                url      : window.location.href,\r\n                userAgent: window.navigator.userAgent,\r\n                ver      : TAG||COMMIT,\r\n                timestamp: new Date(),\r\n                realm : realmConf.realm\r\n            }; \r\n\r\n            useAPIFetch('/error-logs', {method:'POST', body: errorLog});\r\n        }\r\n        catch(err){\r\n            console.error(err, 'error sending error log to server.')\r\n        }\r\n    }\r\n        \r\n    if(userMessage){\r\n        const $toast = useToast();\r\n        $toast.error(userMessage, {position:'top-right'}); \r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAAY,MAAC,SAAS,GAAG,IAAI;AAC7B,IAAI,OAAO;AACX,QAAQ,KAAK;AACb,KAAK;AACL,EAAC;AACD;AACA;AACA;AACA,SAAS,KAAK,CAAC,QAAQ,EAAE,WAAW,CAAC;AACrC;AACA,IAAI,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,QAAQ,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;AACnD;AACA,QAAQ,GAAG;AACX,YAAY,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;AACpC;AACA,YAAY,MAAM,EAAE,iBAAiB,EAAE,GAAG,EAAE,MAAM,EAAE,GAAG,gBAAgB,EAAE,CAAC,MAAM,CAAC;AACjF,YAAY,MAAM,cAAc,IAAI,iBAAiB,EAAE,CAAC;AACxD,YAAY,MAAM,SAAS,GAAG,cAAc,CAAC,SAAS,CAAC;AACvD;AACA,YAAY,MAAM,QAAQ,GAAG;AAC7B,gBAAgB,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC;AACtF,gBAAgB,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,IAAI,QAAQ,EAAE,OAAO,IAAI,SAAS,CAAC;AACtF,gBAAgB,GAAG,QAAQ,MAAM,CAAC,QAAQ,CAAC,IAAI;AAC/C,gBAAgB,SAAS,EAAE,MAAM,CAAC,SAAS,CAAC,SAAS;AACrD,gBAAgB,GAAG,QAAQ,GAAG,EAAE,MAAM;AACtC,gBAAgB,SAAS,EAAE,IAAI,IAAI,EAAE;AACrC,gBAAgB,KAAK,GAAG,SAAS,CAAC,KAAK;AACvC,aAAa,CAAC;AACd;AACA,YAAY,WAAW,CAAC,aAAa,EAAE,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC;AACxE,SAAS;AACT,QAAQ,MAAM,GAAG,CAAC;AAClB,YAAY,OAAO,CAAC,KAAK,CAAC,GAAG,EAAE,oCAAoC,EAAC;AACpE,SAAS;AACT,KAAK;AACL;AACA,IAAI,GAAG,WAAW,CAAC;AACnB,QAAQ,MAAM,MAAM,GAAG,QAAQ,EAAE,CAAC;AAClC,QAAQ,MAAM,CAAC,KAAK,CAAC,WAAW,EAAE,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC;AAC1D,KAAK;AACL;;;;"}